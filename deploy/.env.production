# ================================
# MCPRAPI 生产环境部署配置
# ================================
# 此文件包含生产环境部署所需的所有配置
# 请根据实际环境修改相应的值

# ================================
# GitHub Container Registry 认证
# ================================
# GitHub Personal Access Token (需要packages权限)
GITHUB_TOKEN=your_github_personal_access_token_here

# GitHub用户名
GITHUB_USERNAME=chuangyeshuo

# ================================
# 镜像版本配置
# ================================
BACKEND_VERSION=latest
FRONTEND_VERSION=latest

# ================================
# 数据库配置 (生产环境)
# ================================
MYSQL_ROOT_PASSWORD=your_very_secure_mysql_root_password_here
MYSQL_DATABASE=api_auth_prod
MYSQL_USER=mcprapi_prod
MYSQL_PASSWORD=your_very_secure_mysql_user_password_here
MYSQL_PORT=3306

# ================================
# Redis配置 (生产环境)
# ================================
REDIS_PASSWORD=your_very_secure_redis_password_here
REDIS_PORT=6379

# ================================
# 应用安全配置 (生产环境)
# ================================
# JWT密钥 (请生成一个强密钥，至少32位)
JWT_SECRET=your_very_secure_jwt_secret_key_at_least_32_characters_long

# 加密密钥
ENCRYPTION_KEY=your_very_secure_encryption_key_32_chars

# 会话密钥
SESSION_SECRET=your_very_secure_session_secret_key

# ================================
# 网络配置 (生产环境)
# ================================
BACKEND_PORT=8081
FRONTEND_PORT=8082

# CORS配置 (根据实际域名修改)
CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com

# 限流配置
RATE_LIMIT=1000

# ================================
# 应用环境配置
# ================================
APP_ENV=production
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_OUTPUT=file

# ================================
# 数据库连接池配置 (生产环境优化)
# ================================
DB_MAX_OPEN_CONNS=200
DB_MAX_IDLE_CONNS=50
DB_CONN_MAX_LIFETIME=7200

# ================================
# Redis连接池配置 (生产环境优化)
# ================================
REDIS_MAX_IDLE=50
REDIS_MAX_ACTIVE=200
REDIS_IDLE_TIMEOUT=300

# ================================
# 监控配置
# ================================
ENABLE_METRICS=true
METRICS_PORT=9090

# ================================
# 文件上传配置
# ================================
MAX_UPLOAD_SIZE=50MB
UPLOAD_PATH=/app/uploads

# ================================
# 邮件配置 (生产环境)
# ================================
SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.com
SMTP_PASSWORD=your_smtp_password_here
SMTP_FROM=noreply@yourdomain.com

# ================================
# SSL/TLS配置
# ================================
# 如果使用HTTPS，请配置以下选项
# SSL_CERT_PATH=/path/to/ssl/cert.pem
# SSL_KEY_PATH=/path/to/ssl/key.pem

# ================================
# 备份配置
# ================================
# 数据库备份路径
BACKUP_PATH=/app/backups

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# ================================
# 安全提醒
# ================================
# 1. 请确保所有密码都是强密码
# 2. JWT_SECRET 至少32个字符
# 3. 定期轮换密码和密钥
# 4. 不要将此文件提交到版本控制系统
# 5. 在生产环境中设置适当的文件权限 (chmod 600)
# 6. 使用HTTPS和安全头
# 7. 配置防火墙和访问控制
# 8. 定期备份数据库和配置文件