# Casbin模型配置

# 请求定义 - 增加部门ID维度
[request_definition]
r = sub, obj, act, dept

# 策略定义 - 增加部门ID和效果
[policy_definition]
p = sub, obj, act, dept, eft

# 角色定义
[role_definition]
g = _, _

# 策略效果
[policy_effect]
e = some(where (p.eft == allow))

# 匹配器 - 增加部门权限检查
[matchers]
m = g(r.sub, p.sub) && keyMatch2(r.obj, p.obj) && (r.act == p.act || p.act == '*') && (r.dept == p.dept || p.dept == '*')